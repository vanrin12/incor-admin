(this.webpackJsonpincor=this.webpackJsonpincor||[]).push([[37],{726:function(e,a,t){"use strict";t.r(a);var n=t(36),i=t(19),l=t(2),s=t.n(l),c=t(282),m=t.n(c),o=t(252),r=t(277),d=t(250),u=t(253),g=t(365),p=t(272),h=t(721);var E=()=>s.a.createElement(h.a,{animation:"border",variant:"warning",size:"sm"});var v=Object(l.memo)(e=>{let{dataMedia:a,handleDeleteMedia:t}=e;return s.a.createElement(s.a.Fragment,null,"image"===(null===a||void 0===a?void 0:a.type)?s.a.createElement("div",{className:"item-media"},s.a.createElement("div",{className:"icon-delete",onClick:()=>t(null===a||void 0===a?void 0:a.id),role:"button",tabIndex:0,onKeyDown:()=>{}},"x"),s.a.createElement("div",{className:"media-content",style:{backgroundImage:"url(".concat(null===a||void 0===a?void 0:a.url,")")}})):s.a.createElement("div",{className:"item-media"},s.a.createElement("div",{className:"icon-delete",onClick:()=>t(null===a||void 0===a?void 0:a.id),role:"button",tabIndex:0,onKeyDown:()=>{}},"x"),s.a.createElement("div",{className:"media-content"},s.a.createElement(g.a,{src:null===a||void 0===a?void 0:a.url}))))});var b=Object(l.memo)(e=>{let{getListMedia:a,dataListMedia:t,isProcessing:n,uploadMedia:i,statusCode:c,totalRows:h,type:b,isProcessingUpload:w,deleteMedia:N}=e;const C=Object(l.useRef)({}),[S,k]=Object(l.useState)(!1),[f,y]=Object(l.useState)("image"),[L,O]=Object(l.useState)(1),[D,I]=Object(l.useState)(0),[M,x]=Object(l.useState)({isShow:!1,content:""}),[_,j]=Object(l.useState)(null),[P,R]=Object(l.useState)({isShow:!1,content:""}),[V,U]=Object(l.useState)({url:"",name:"",nameImage:"",imageView:""});Object(l.useEffect)(()=>{switch(b){case"UPLOAD_MEDIA_SUCCESS":U({...V,url:"",name:"",nameImage:"",imageView:""}),200===c?k(!1):(k(!1),x({...M,isShow:!0,content:"Upload h\xecnh \u1ea3nh \u0111ang b\u1ecb l\u1ed7i vui l\xf2ng th\u1eed l\u1ea1i sau."}));break;case"UPLOAD_MEDIA_FAILED":k(!1),U({...V,url:"",name:"",nameImage:"",imageView:""}),x({...M,isShow:!0,content:"Upload h\xecnh \u1ea3nh \u0111ang b\u1ecb l\u1ed7i vui l\xf2ng th\u1eed l\u1ea1i sau."});break;case"DELETE_MEDIA_SUCCESS":R({...P,isShow:!1,content:""}),200===c?a({page:1,mediaType:f}):x({...M,isShow:!0,content:"X\xf3a \u0111ang b\u1ecb l\u1ed7i vui l\xf2ng th\u1eed l\u1ea1i sau."});break;case"DELETE_MEDIA_FAILED":R({...P,isShow:!1,content:""}),x({...M,isShow:!0,content:"X\xf3a \u0111ang b\u1ecb l\u1ed7i vui l\xf2ng th\u1eed l\u1ea1i sau."})}},[b]),Object(l.useEffect)(()=>{a({page:L,mediaType:f})},[f,L]);const H=e=>{e.target.validity.valid&&e.target.files[0]&&(0===e.target.files[0].size?x({...M,isShow:!0,content:"Dung l\u01b0\u1ee3ng h\xecnh \u1ea3nh ph\u1ea3i l\u1edbn h\u01a1n 0KB."}):e.target.files[0].size>1574e6&&"image"===f?x({...M,isShow:!0,content:"K\xedch th\u01b0\u1edbc h\xecnh \u1ea3nh \u0111\u01b0\u1ee3c gi\u1edbi h\u1ea1n \u1edf 1.5G"}):U({...V,url:e.target.files[0],imageView:(window.URL||window.webkitURL).createObjectURL(e.target.files[0]),nameImage:e.target.files[0].name}))},K=e=>{R({...P,isShow:!0,content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a hay kh\xf4ng?"}),j(e)},T=t&&t.length>0?t.slice(0,10).map(e=>s.a.createElement(v,{key:e.id,dataMedia:e,handleDeleteMedia:K})):s.a.createElement("div",{className:"no-data"},"image"===f?"KH\xd4NG C\xd3 H\xccNH \u1ea2NH N\xc0O.":"KH\xd4NG C\xd3 VIDEO N\xc0O.");return s.a.createElement(o.a,{activeMenu:1},s.a.createElement("div",{className:"media-content"},s.a.createElement("div",{className:"media-header d-flex"},s.a.createElement("div",{className:"list-type"},s.a.createElement("div",{className:"img ".concat("image"===f?"active":""),onClick:()=>{O(1),y("image")},tabIndex:"0",onKeyPress:()=>{},role:"button"},"H\xccNH \u1ea2NH"),s.a.createElement("div",{className:"video ".concat("video"===f?"active":""),onClick:()=>{O(1),y("video")},tabIndex:"0",onKeyPress:()=>{},role:"button"},"VIDEO")),s.a.createElement("div",{className:"btn-upload"},s.a.createElement(d.a,{customClass:"button--primary",onClick:()=>k(!0)},"T\u1ea2I L\xcaN"))),s.a.createElement("div",{className:"list-media"},n?s.a.createElement(p.a,null):s.a.createElement(s.a.Fragment,null,T)),t&&t.length>0&&s.a.createElement("div",{className:"wrapper-pagination mt-4"},!n&&s.a.createElement(s.a.Fragment,null,h>10&&s.a.createElement(m.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:s.a.createElement("span",{className:"gap"},"..."),pageCount:Math.ceil(h/10),onPageChange:e=>{return O((a=e).selected+1),void I(a.selected);var a},forcePage:D,containerClassName:"pagination",disabledClassName:"disabled",activeClassName:"active",breakClassName:"page-item",breakLinkClassName:"page-link",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",marginPagesDisplayed:1,nextLinkClassName:"page-link"})))),s.a.createElement(r.a,{isOpen:S,handleClose:()=>{k(!1),U({...V,url:"",name:"",nameImage:"",imageView:""})},customClassButton:"w-100",classNameBtnLeft:"btn-left",customClass:"popup-add-product media",isShowIconClose:!0},s.a.createElement("div",{className:"title-content"},s.a.createElement("div",{className:"popup-add-product__left"},s.a.createElement("div",{className:"box__input",onClick:()=>{const e=C&&C.current?C.current:null;e&&e.click()},onKeyDown:()=>{},tabIndex:0,role:"button"},"image"===f?s.a.createElement("input",{className:"box__file",type:"file",ref:C,accept:"image/jpg, image/jpeg, image/png, capture=camera",onChange:e=>H(e)}):s.a.createElement("input",{className:"box__file",type:"file",ref:C,accept:"video/mp4,video/x-m4v,video/*",onChange:e=>H(e)}),s.a.createElement("label",null,s.a.createElement("strong",null,V&&V.nameImage||"K\xe9o th\u1ea3 t\u1eadp tin v\xe0o \u0111\xe2y"),s.a.createElement(d.a,{customClass:"button--primary add-file mt-0",onClick:()=>{}},s.a.createElement("p",null,"CH\u1eccN T\u1ec6P"))))),s.a.createElement("div",{className:"popup-add-product__right"},s.a.createElement("p",{className:" input__label"},"image"===f?"H\xecnh \u1ea3nh":"Video"),"image"===f?s.a.createElement("div",{className:"image-view"},V&&V.imageView&&s.a.createElement("img",{src:V&&V.imageView,alt:V&&V.name})):s.a.createElement("div",{className:"mb-3"},s.a.createElement(g.a,{src:V&&V.imageView})),s.a.createElement(u.a,{type:"text",onChange:e=>{var a;a=e.target.value,U({...V,name:a})},value:V&&V.name,label:"image"===f?"T\xean h\xecnh \u1ea3nh":"T\xean Video"}),s.a.createElement(d.a,{customClass:"button--primary mt-0",onClick:()=>(()=>{const e=new window.FormData;e.append("name",V&&V.name||""),e.append("file",V&&V.url||""),e.append("type",f),i(e)})(),isDisabled:!V.imageView||!V.name||w},s.a.createElement("p",null,"Th\xeam ",w&&s.a.createElement(E,null)))))),s.a.createElement(r.a,{isOpen:M.isShow,isShowFooter:!0,handleClose:()=>{x({...M,isShow:!1})},handleSubmit:()=>{x({...M,isShow:!1})},textBtnRight:"\u0110\xd3NG"},M.content),s.a.createElement(r.a,{isOpen:P.isShow,isShowFooter:!0,handleClose:()=>R({...P,isShow:!1,content:""}),handleSubmit:()=>{N(_)},textBtnRight:"KH\xd4NG",isShowTwoBtn:!0,textBtnLeft:"C\xd3"},P.content))}),w=t(17);a.default=Object(n.b)(e=>({type:e.mediaReducer.type,isProcessing:e.mediaReducer.isProcessing,dataListMedia:e.mediaReducer.dataListMedia,totalRows:e.mediaReducer.totalRows,isProcessingUpload:e.mediaReducer.isProcessingUpload,isProcessingDelete:e.mediaReducer.isProcessingDelete,statusCode:e.mediaReducer.statusCode}),e=>Object(i.b)({...w.a,getListMedia:w.a.getListMedia,uploadMedia:w.a.uploadMedia,deleteMedia:w.a.deleteMedia},e))(b)}}]);
//# sourceMappingURL=37.2d1000bc.chunk.js.map